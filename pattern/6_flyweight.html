<!DOCTYPE html>
<html>
<head>
	<title>플라이급 패턴</title>
</head>
<body>
<script type="text/javascript">

//   플라이급 패턴은 개체의 멤버 필드 중에 각 개체가 반드시 갖고 있어야 할 멤버와 여러 개체가 공유해서 사용할 수 있는 멤버로 분리하는 작업에서부터 출발합니다.

var Legionary = (function() {
	var Legionary = function(name) {
		this.name = name;
	}
	// 공유할 속성을 프로토 타입에 넣어, 메모리를 공유해 사용한다.
	Legionary.prototype.hp = 50;
	Legionary.prototype.att = 5;
	Legionary.prototype.attack = function(target) {
	    console.log(this.name + '가 ' + target.name + '를 공격합니다');
	}
	Legionary.prototype.getStats = function() {
		console.log("name : %s, hp : %s, att : %s", this.name, this.hp, this.att);
	}
	return Legionary;
})();

var soldier1 = new Legionary("Marcus");
var soldier2 = new Legionary('Tiberius');
var soldier3 = new Legionary('Zero');

soldier1.hp; //50
soldier1.hp = 100;

soldier2.getStats(); // name : Tiberius, hp : 50, att : 5

soldier2.attack(soldier1); //Tiberius가 Marcus를 공격합니다

// 객체 생성시 공유 할 속성과 함수를 프로토 타입에 넣는다.
// 객체 생성후 각 객체 별로 속성을 독립적으로 변경 할 수 있다.

</script>
</body>
</html>