<!DOCTYPE html>
<html>
<head>
	<title>적응자(adapter) 패턴</title>
</head>
<body>
<script type="text/javascript">
// 적응자 패턴은 추상 팩토리나 빌더 패턴처럼 객체를 생성하는 패턴이 아니다.
// 기존에 있던 구조를 새 구조로 유연하게 전환하거나 새구조에서 기존의 구조로 전환하는데 사용하는 패턴이다.

// 적응자 패턴은 두 가지 이상의 구조에서 유연하게 전환하고 싶을 때 유용

var SenateSystem = (function() {
	var SenateSystem = function(adapter) {
		this.adapter = adapter;
	};
	SenateSystem.prototype.vote = function() {
		this.adapter.vote();
	};
	return SenateSystem;
})();


// 새 시스탬과 이전 시스템의 메소드명은 같을 수록 좋다.
var currentAdapter = {
	vote: function() {
		console.log("현 황제를 계속 지지 합니다.");
	}
}

var rufusAdapter = {
	vote: function() {
		console.log("루푸스를 황제로 지지합니다.");
	}
}

senateSystem = new SenateSystem(currentAdapter);
senateSystem.vote();

senateSystem = new SenateSystem(rufusAdapter);
senateSystem.vote();

var galbaAdapter = {
	vote: function() {
		console.log("갈바를 황제로 지지합니다.");
	}
}

senateSystem = new SenateSystem(galbaAdapter);
senateSystem.vote();

</script>
</body>
</html>