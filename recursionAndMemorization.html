<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

<script type="text/javascript">

var factorial = function(number) {
	if (number > 0) {
		return number * factorial(number - 1);
	} else {
		return 1;
	}
}

console.log(factorial(3));
console.log(factorial(4));	

console.log("**********************************");

// 메모제이션이란 프로그래밍을 할 때 반복되는 결과를 메모리에 저장해두고 사용하는 기법
var factorial2 = (function() {
	var save = {};
	var fact = function(number) {
		if (number > 0) {
			var saved = save[number - 1] || fact(number - 1);
			var result = number * saved;
			save[number] = result;

			console.log(saved, result);
			return result;
		} else {
			return 1;
		}
	}
	return fact;
})();

factorial2(5);
console.log("**********************************");
factorial2(7);

var fibonacci = (function(){
	var save = {};
	var fibo = function(number) {
		if (number < 2) {
			return number;
		} else {
			var saved1 = save[number - 1] || fibo(number - 1);
			var saved2 = save[number - 2] || fibo(number - 2);
			var result = saved1 + saved2;

			save[number] = result;
			console.log(saved1, saved2, result);

			return result; 
		}
	}
	return fibo;
})();
console.log("**********************************");
fibonacci(5);
console.log("**********************************");
fibonacci(5);

</script>
</body>
</html>