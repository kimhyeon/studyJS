<!DOCTYPE html>
<html>
<head>
	<title>유사 배열</title>
</head>
<body>
<div id="div_01">
	<p>테스트</p>
</div>
<div id="div_02">
	<p>테스트</p>
</div>
<div id="div_03">
	<p>테스트</p>
</div>
<div id="div_04">
	<p>테스트</p>
</div>
<div id="div_05">
	<p>테스트</p>
</div>
</body>
<script type="text/javascript">
	var array = [1, 2, 3, 5];
	var nodes = document.querySelectorAll('div');
	var els = document.body.children;

	// Array.isArray  로 배열인지 검증.
	// nodes나 els 처럼 [] 로 감싸져 있지만 배열이 아닌 것들을 유사배열이라 한다.
	console.log(Array.isArray(array), Array.isArray(nodes), Array.isArray(els));

	// 객체도 유사배열이다.
	var test = {
		0: 'a',
		1: 'b',
		2: 'c',
		length: 3
	};

	// 배열과 유사배열을 구분해야 하는 이유는, 유사배열의 경우 배열의 메서드를 사용하지 못하기 때문이다.
	
	// 배열의 프로토타입 에서 메서드를 빌려와 유사배열에서 사용할 수 있다.
	// 그냥 사용하면 에러 발생..

	// call, apply, bind를 사용해 메서드를 빌려와 사용할 수 있다.

	Array.prototype.forEach.call(els, function(el) {
		console.dir(el);
	});

	// function 의 arguments 도 유사 배열이다.

	function arrayLike() {
		console.log(arguments);
		console.warn(Array.isArray(arguments));
		Array.prototype.forEach.call(arguments, function(arg) {
			console.log(arg);
		});
	}
	arrayLike(1,2,3,4,5,"123")

</script>

</html>